# ================================================================
# Core Application Settings
# ================================================================

# LLM Provider API Keys
# Choose one or more providers and uncomment the relevant line.
# OPENAI_API_KEY="your-openai-api-key"
# ANTHROPIC_API_KEY="your-anthropic-api-key"
# GROQ_API_KEY="your-groq-api-key"
# GOOGLE_API_KEY="your-google-api-key"
OPENROUTER_API_KEY="your-openrouter-api-key"

# ================================================================
# LLM Settings (via OpenRouter)
# ================================================================
# These are optional and have sensible defaults in src/config/settings.py
# LLM_SITE_URL="https://my-site.com"
# LLM_APP_NAME="AI Trading System"
# LLM_BASE_URL="https://openrouter.ai/api/v1"
# LLM_DEFAULT_MODEL="anthropic/claude-3-haiku"

# ================================================================
# Portfolio Settings
# ================================================================
# PORTFOLIO_STARTING_CASH="100000.0"

# ================================================================
# API Settings
# ================================================================
# A comma-separated list of allowed origins for CORS.
# API_CORS_ALLOWED_ORIGINS="http://localhost:3000,http://localhost:5173"

# ================================================================
# News API Settings (REQUIRED)
# ================================================================
# Alpha Vantage API key for fetching real-time news sentiment
# Get your free API key at: https://www.alphavantage.co/support/#api-key
# Free tier: 25 API calls per day (sufficient for basic use)
DATA_ALPHA_VANTAGE_API_KEY="your-alpha-vantage-api-key"

# ================================================================
# Signal Generation Settings (OPTIONAL - Advanced Feature)
# ================================================================
# Control the local rule-based signal generation system.
# These settings enable a hybrid approach where technical signals can be
# generated locally (rule-based) instead of always using LLM analysis.
#
# Benefits of local generation:
# - Faster signal generation (<100ms vs 1-2s for LLM)
# - Lower costs (no LLM API calls for technical analysis)
# - Deterministic and explainable signals
#
# When to use LLM (via hybrid mode or pure LLM):
# - Complex market conditions requiring nuanced reasoning
# - Conflicting indicator signals needing interpretation
# - Uncertain market regimes
#
# Default behavior (if not set): Pure LLM mode (all settings false/0.0)
#
# Uncomment and customize as needed:

# Enable local signal generation feature
# SIGNAL_GENERATION_LOCAL_SIGNAL_GENERATION_ENABLED=false

# Percentage of requests to use local generation (0.0-1.0)
# Useful for gradual rollout and A/B testing
# SIGNAL_GENERATION_ROLLOUT_PERCENTAGE=0.0

# Specific symbols to enable for local generation (empty = all eligible)
# Example: ["AAPL", "MSFT", "GOOGL"]
# SIGNAL_GENERATION_ENABLED_SYMBOLS=[]

# Enable smart escalation from local to LLM for uncertain cases
# SIGNAL_GENERATION_HYBRID_MODE_ENABLED=false

# Fallback to LLM if local generation fails
# SIGNAL_GENERATION_FALLBACK_TO_LLM_ON_ERROR=true

# Enable side-by-side comparison (generates BOTH local and LLM signals)
# Warning: Doubles LLM API costs - use for research/validation only
# SIGNAL_GENERATION_ENABLE_SIDE_BY_SIDE_COMPARISON=false

# How often to run side-by-side comparison (0.0-1.0)
# Only applies if ENABLE_SIDE_BY_SIDE_COMPARISON=true
# SIGNAL_GENERATION_COMPARISON_SAMPLE_RATE=0.1

# ESCALATION_CONFIDENCE_THRESHOLD: Min confidence to avoid LLM escalation
# - Only used when HYBRID_MODE_ENABLED=true
# - If local confidence < 0.3 → escalate to LLM (too uncertain)
# - If local confidence >= 0.3 → use local signal (confident enough)
# - Higher value = more LLM calls (stricter quality bar)
# - Lower value = fewer LLM calls (trust weaker local signals)
# Default: 0.3 (below 30% confidence triggers escalation)
# SIGNAL_GENERATION_ESCALATION_CONFIDENCE_THRESHOLD=0.3

# ESCALATION_CONFLICT_THRESHOLD: Max conflicts before LLM escalation
# - Only used when HYBRID_MODE_ENABLED=true
# - If conflicts >= 2 → escalate to LLM (indicators disagree too much)
# - If conflicts < 2 → use local signal (acceptable disagreement)
# - Conflicts = indicators giving opposite signals (RSI buy vs MACD sell)
# - Higher value = fewer LLM calls (tolerate more conflicts)
# - Lower value = more LLM calls (escalate on any disagreement)
# Default: 2 (2+ conflicting indicators triggers escalation)
# SIGNAL_GENERATION_ESCALATION_CONFLICT_THRESHOLD=2
